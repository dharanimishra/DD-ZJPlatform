<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ziksana.persistence.course.CourseLearningComponentMapper">

	<insert id="save" parameterType="com.ziksana.domain.course.CourseLearningComponent"
		useGeneratedKeys="true" keyProperty="courseLearningComponentId"
		keyColumn="courselearningcomponentid">
		insert into corcourselearningcomponent
		<trim suffixOverrides="," suffix=")" prefix="(">
			<if test="creationdate != null"> creationdate, </if>
			<if test="usageStartDate != null"> usageStartDate, </if>
			<if test="usageenddate != null"> usageenddate, </if>
			<if test="active != null"> active, </if>
			<if test="weightage != null"> weightage, </if>
			<if test="totalcredits != null"> totalcredits, </if>
			<if test="extracredits != null"> extracredits, </if>
			<if test="duration != null"> duration, </if>
			<if test="learningcomponentoveriddenindicator != null">learningcomponentoveriddenindicator</if>
			<if test="durationunit != null"> durationunit, </if>
			<if test="courseid != null"> courseid, </if>
			<if test="learningcomponentid != null"> learningcomponentid, </if>
			<if test="learningcomponenttypeid != null"> learningcomponenttypeid, </if>
		</trim>
		<trim suffixOverrides="," suffix=")" prefix="values (">
			sysdate(),
			<if test="usageStartDate != null"> #{usageStartDate,jdbcType=TIMESTAMP}, </if>
			<if test="usageEndDate != null"> #{usageEndDate,jdbcType=TIMESTAMP}, </if>
			<if test="active != null"> #{active,jdbcType=BOOLEAN}, </if>
			<if test="weightage != null"> #{weightage,jdbcType=INTEGER}, </if>
			<if test="totalCredits != null"> #{totalCredits,jdbcType=INTEGER}, </if>
			<if test="extraCredits != null"> #{extraCredits,jdbcType=INTEGER}, </if>
			<if test="duration != null"> #{duration.duration,jdbcType=INTEGER}, </if>
			<if test="isLearningComponentOveridden != null">#{isLearningComponentOveridden,jdbcType=BOOLEAN}</if>
			<if test="duration!= null"> #{duration.durationUnits,jdbcType=INTEGER}, </if>
			<if test="course != null"> #{course.courseId,jdbcType=INTEGER}, </if>
			<if test="learningComponent != null">
				#{learningComponent.learningComponentId,jdbcType=INTEGER},
			</if>
			<if test="learningComponentType != null">
				#{learningComponentType.learningComponentTypeId,jdbcType=INTEGER},
			</if>
		</trim>
		<selectKey keyProperty="courseLearningComponentId"
			resultType="int" order="AFTER">
			SELECT LAST_INSERT_ID();
		</selectKey>
	</insert>

	<update id="update" parameterType="com.ziksana.domain.course.CourseLearningComponent">
		update corcourselearningcomponent
		<set>
			<if test="usageStartDate != null"> #{usageStartDate,jdbcType=TIMESTAMP}, </if>
			<if test="usageEndDate != null"> #{usageEndDate,jdbcType=TIMESTAMP}, </if>
			<if test="weightage != null"> #{weightage,jdbcType=INTEGER}, </if>
			<if test="totalCredits != null"> #{totalCredits,jdbcType=INTEGER}, </if>
			<if test="extraCredits != null"> #{extraCredits,jdbcType=INTEGER}, </if>
			<if test="duration != null"> #{duration.duration,jdbcType=INTEGER}, </if>
			<if test="duration!= null"> #{duration.durationUnits,jdbcType=INTEGER}, </if>
			<if test="learningComponentType != null">
				#{learningComponentType.learningComponentTypeId,jdbcType=INTEGER},
			</if>
		</set>
		where courseLearningComponentId =
		#{courseLearningComponentId,jdbcType=INTEGER}
	</update>

</mapper>