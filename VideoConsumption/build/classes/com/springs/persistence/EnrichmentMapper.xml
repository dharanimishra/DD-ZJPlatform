<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.springs.persistence.EnrichmentMapper" >
  <resultMap id="BaseResultMap" type="com.springs.domain.Enrichment" >
    <id column="enrichmentid" property="enrichmentid" jdbcType="INTEGER" />
    <result column="title" property="title" jdbcType="VARCHAR" />
    <result column="description" property="description" jdbcType="VARCHAR" />
    <result column="starttime" property="starttime" jdbcType="TIME" />
    <result column="endtime" property="endtime" jdbcType="TIME" />
    <result column="videoid" property="videoid" jdbcType="INTEGER" />
    <result column="videoname" property="videoName" jdbcType="VARCHAR" />
    <result column="componenttypeid" property="componenttypeid" jdbcType="INTEGER" />
    <result column="nestparentid" property="nestparentid" jdbcType="INTEGER" />
    <result column="componentnestid" property="componentnestid" jdbcType="INTEGER" />
  </resultMap>
  <sql id="Base_Column_List" >
    enrichmentid, title, description, starttime, endtime, videoid, videoname, componenttypeid, nestparentid, 
    componentnestid
  </sql>
  
  <insert id="insertSelective" parameterType="com.springs.domain.Enrichment" >
    insert into enrichment
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="enrichmentid != null" >
        enrichmentid,
      </if>
      <if test="title != null" >
        title,
      </if>
      <if test="description != null" >
        description,
      </if>
      <if test="starttime != null" >
        starttime,
      </if>
      <if test="endtime != null" >
        endtime,
      </if>
      <if test="videoid != null" >
        videoid,
      </if>
      <if test="videoname != null" >
        videoname,
      </if>
      <if test="componenttypeid != null" >
        componenttypeid,
      </if>
      <if test="nestparentid != null" >
        nestparentid,
      </if>
      <if test="componentnestid != null" >
        componentnestid,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="enrichmentid != null" >
        #{enrichmentid,jdbcType=INTEGER},
      </if>
      <if test="title != null" >
        #{title,jdbcType=VARCHAR},
      </if>
      <if test="description != null" >
        #{description,jdbcType=VARCHAR},
      </if>
      <if test="starttime != null" >
        #{starttime,jdbcType=TIME},
      </if>
      <if test="endtime != null" >
        #{endtime,jdbcType=TIME},
      </if>
      <if test="videoid != null" >
        #{videoid,jdbcType=INTEGER},
      </if>
      <if test="videoname != null" >
        #{videoname,jdbcType=VARCHAR},
      </if>
      <if test="componenttypeid != null" >
        #{componenttypeid,jdbcType=INTEGER},
      </if>
      <if test="nestparentid != null" >
        #{nestparentid,jdbcType=INTEGER},
      </if>
      <if test="componentnestid != null" >
        #{componentnestid,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.springs.domain.Enrichment" >
    update enrichment
    <set >
      <if test="title != null" >
        title = #{title,jdbcType=VARCHAR},
      </if>
      <if test="description != null" >
        description = #{description,jdbcType=VARCHAR},
      </if>
      <if test="starttime != null" >
        starttime = #{starttime,jdbcType=TIME},
      </if>
      <if test="endtime != null" >
        endtime = #{endtime,jdbcType=TIME},
      </if>
      <if test="videoid != null" >
        videoid = #{videoid,jdbcType=INTEGER},
      </if>
      <if test="videoname != null" >
        videoname = #{videoname,jdbcType=VARCHAR},
      </if>
      <if test="componenttypeid != null" >
        componenttypeid = #{componenttypeid,jdbcType=INTEGER},
      </if>
      <if test="nestparentid != null" >
        nestparentid = #{nestparentid,jdbcType=INTEGER},
      </if>
      <if test="componentnestid != null" >
        componentnestid = #{componentnestid,jdbcType=INTEGER},
      </if>
    </set>
    where enrichmentid = #{enrichmentid,jdbcType=INTEGER}
  </update>

	<select id="getEnrichment" resultMap="BaseResultMap">
		select enrichmentid, title, description, starttime, endtime, videoid, videoname, componenttypeid, nestparentid, 
	    componentnestid from enrichment where videoid=#{videoid} and starttime=#{starttime} 
	</select>
</mapper>